<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Fractions Check</title>
<style>
  body{font-family:system-ui,Arial,sans-serif;margin:16px;color:#222}
  .banner{font-weight:700;margin-bottom:16px}
  .q{margin:16px 0}
  .qtitle{font-weight:600;margin-bottom:8px}
  .tag{font-size:12px;color:#555;margin-bottom:4px}
  .row{display:flex;align-items:center;flex-wrap:wrap;gap:8px;margin-bottom:8px}
  .comma{font-size:22px;margin:0 6px}
  .frac{display:inline-block;text-align:center}
  .frac input{width:3.6em;height:2.2em;font-size:18px;text-align:center;border:1px solid #999;border-radius:4px;padding:2px}
  .bar{border-top:2px solid #111;margin:3px 2px}
  .correct input{background:#c9f7c7}
  .wrong  input{background:#f7c7c7}
</style>
</head>
<body>
<div class="banner">If you keep getting it wrong, raise your hand and ask your teacher for help.</div>

<!-- 19: greatest to smallest -->
<div class="q" id="q19">
  <div class="qtitle">19 Arrange the fractions in order (enter from greatest to smallest, left to right).</div>
  <div class="row">
    <div>
      <div class="tag">Q19 position 1 (greatest)</div>
      <div class="frac" data-answer="7/9">
        <input class="num" autocomplete="off" aria-label="Q19 position 1 numerator">
        <div class="bar"></div>
        <input class="den" autocomplete="off" aria-label="Q19 position 1 denominator">
      </div>
    </div>
    <div class="comma">,</div>
    <div>
      <div class="tag">Q19 position 2</div>
      <div class="frac" data-answer="2/4">
        <input class="num" autocomplete="off" aria-label="Q19 position 2 numerator">
        <div class="bar"></div>
        <input class="den" autocomplete="off" aria-label="Q19 position 2 denominator">
      </div>
    </div>
    <div class="comma">,</div>
    <div>
      <div class="tag">Q19 position 3 (smallest)</div>
      <div class="frac" data-answer="5/12">
        <input class="num" autocomplete="off" aria-label="Q19 position 3 numerator">
        <div class="bar"></div>
        <input class="den" autocomplete="off" aria-label="Q19 position 3 denominator">
      </div>
    </div>
  </div>
</div>

<!-- 20: one sub-question per line; ALL require simplest-form only -->
<div class="q" id="q20">
  <div class="qtitle">20 Add or subtract. Express your answer in its simplest form. Type only the final answer.</div>

  <div class="row">
    <div>
      <div class="tag">Q20(a) — simplest form ONLY</div>
      <div class="frac" data-answer="5/6" data-simplify="true">
        <input class="num" autocomplete="off" aria-label="Q20(a) numerator">
        <div class="bar"></div>
        <input class="den" autocomplete="off" aria-label="Q20(a) denominator">
      </div>
    </div>
  </div>

  <div class="row">
    <div>
      <div class="tag">Q20(b) — simplest form ONLY</div>
      <div class="frac" data-answer="1/2" data-simplify="true">
        <input class="num" autocomplete="off" aria-label="Q20(b) numerator">
        <div class="bar"></div>
        <input class="den" autocomplete="off" aria-label="Q20(b) denominator">
      </div>
    </div>
  </div>

  <div class="row">
    <div>
      <div class="tag">Q20(c) — simplest form ONLY</div>
      <div class="frac" data-answer="7/8" data-simplify="true">
        <input class="num" autocomplete="off" aria-label="Q20(c) numerator">
        <div class="bar"></div>
        <input class="den" autocomplete="off" aria-label="Q20(c) denominator">
      </div>
    </div>
  </div>

  <div class="row">
    <div>
      <div class="tag">Q20(d) — simplest form ONLY</div>
      <div class="frac" data-answer="5/8" data-simplify="true">
        <input class="num" autocomplete="off" aria-label="Q20(d) numerator">
        <div class="bar"></div>
        <input class="den" autocomplete="off" aria-label="Q20(d) denominator">
      </div>
    </div>
  </div>

  <div class="row">
    <div>
      <div class="tag">Q20(e) — simplest form ONLY</div>
      <div class="frac" data-answer="7/9" data-simplify="true">
        <input class="num" autocomplete="off" aria-label="Q20(e) numerator">
        <div class="bar"></div>
        <input class="den" autocomplete="off" aria-label="Q20(e) denominator">
      </div>
    </div>
  </div>

  <div class="row">
    <div>
      <div class="tag">Q20(f) — simplest form ONLY</div>
      <div class="frac" data-answer="2/5" data-simplify="true">
        <input class="num" autocomplete="off" aria-label="Q20(f) numerator">
        <div class="bar"></div>
        <input class="den" autocomplete="off" aria-label="Q20(f) denominator">
      </div>
    </div>
  </div>
</div>

<script>
(function(){
  const gcd=(a,b)=>{a=Math.abs(a);b=Math.abs(b);while(b){[a,b]=[b,a%b]}return a||1};

  const parsePair=(el)=>{
    const n=el.querySelector('.num').value.trim();
    const d=el.querySelector('.den').value.trim();
    if(n===""&&d==="") return {empty:true};
    const ni=parseInt(n,10), di=parseInt(d,10);
    if(!Number.isInteger(ni)||!Number.isInteger(di)||di===0) return {bad:true};
    const s = di<0 ? -1 : 1; // keep denominator positive
    return {n:ni*s,d:Math.abs(di),empty:false,bad:false};
  };

  const setState=(el,state)=>{
    el.classList.remove('correct','wrong');
    if(state==='correct') el.classList.add('correct');
    else if(state==='wrong') el.classList.add('wrong');
  };

  const check=el=>{
    const [tn,td]=el.dataset.answer.split('/').map(Number);
    const mustBeSimplest = el.dataset.simplify === "true";
    const v=parsePair(el);

    if(v.empty){ setState(el,''); return; }
    if(v.bad){ setState(el,'wrong'); return; }

    const g=gcd(v.n,v.d);
    const sn=v.n/g, sd=v.d/g;           // simplified input
    const matchesTarget = (sn===tn && sd===td);

    if(mustBeSimplest){
      // Only accept if user's fraction is already simplest AND equals target simplest
      const isSimplest = (g===1);
      setState(el, (isSimplest && matchesTarget) ? 'correct' : 'wrong');
    }else{
      // (not used for Q20 anymore, but kept for future flexibility)
      setState(el, matchesTarget ? 'correct' : 'wrong');
    }
  };

  document.querySelectorAll('.frac').forEach(el=>{
    el.addEventListener('input',()=>check(el));
  });
})();
</script>
</body>
</html>