<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fraction Checker â€“ Question 5</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    h1 { margin-bottom: 0.5em; }
    h2 { margin-top: 1em; margin-bottom: 0.5em; }
    #hints-container {
      display: none;
      align-items: center;
      border: 2px solid #f0ad4e;
      background: #fcf8e3;
      color: #8a6d3b;
      padding: 10px;
      margin-bottom: 20px;
      border-radius: 4px;
    }
    #hints { flex: 1; font-size: 1em; }
    #speakBtn {
      margin-left: 10px;
      padding: 6px 12px;
      font-size: 0.95em;
      cursor: pointer;
      background: #5bc0de;
      color: white;
      border: none;
      border-radius: 4px;
    }
    .frac-row { margin: 12px 0; font-size: 1.1em; }
    .frac-row label { display: inline-block; width: 80px; }
    .slash { display: inline-block; width: 1em; text-align: center; }
    .frac-row input.answer {
      width: 2.5em;
      padding: 4px;
      margin: 0 4px;
      font-size: 1em;
      border: 1px solid #ccc;
      text-align: center;
      border-radius: 4px;
    }
    input.correct { background: #c8e6c9; }
    input.incorrect { background: #ffcdd2; }
  </style>
</head>
<body>

  <h1>Question 5: Fill the Missing Fractions</h1>
  <div id="hints-container">
    <div id="hints"></div>
    <button id="speakBtn">Speak</button>
  </div>

  <!-- 5(a) -->
  <h2>5(a)</h2>
  <div class="frac-row">
    <label>5(a):</label>
    <input type="text" id="q5a_num" class="answer" placeholder="numerator">
    <span class="slash">/</span>
    <input type="text" id="q5a_den" class="answer" placeholder="denominator">
  </div>

  <!-- 5(b) -->
  <h2>5(b)</h2>
  <div class="frac-row">
    <label>5(b):</label>
    <input type="text" id="q5b_num" class="answer" placeholder="numerator">
    <span class="slash">/</span>
    <input type="text" id="q5b_den" class="answer" placeholder="denominator">
  </div>

  <!-- 5(c) -->
  <h2>5(c)</h2>
  <div class="frac-row">
    <label>5(c):</label>
    <input type="text" id="q5c_num" class="answer" placeholder="numerator">
    <span class="slash">/</span>
    <input type="text" id="q5c_den" class="answer" placeholder="denominator">
  </div>

  <!-- 5(d) -->
  <h2>5(d)</h2>
  <div class="frac-row">
    <label>5(d):</label>
    <input type="text" id="q5d_num" class="answer" placeholder="numerator">
    <span class="slash">/</span>
    <input type="text" id="q5d_den" class="answer" placeholder="denominator">
  </div>

  <!-- 5(e) -->
  <h2>5(e)</h2>
  <div class="frac-row">
    <label>5(e):</label>
    <input type="text" id="q5e_num" class="answer" placeholder="numerator">
    <span class="slash">/</span>
    <input type="text" id="q5e_den" class="answer" placeholder="denominator">
  </div>

  <script>
    // correct answers (simplest form)
    const correct = {
      q5a_num: ['1'],  q5a_den: ['2'],
      q5b_num: ['3'],  q5b_den: ['4'],
      q5c_num: ['2'],  q5c_den: ['5'],
      q5d_num: ['6'],  q5d_den: ['7'],
      q5e_num: ['3'],  q5e_den: ['10']
    };

    // hint messages
    const hintsMap = {
      q5a_den:  'Denominator: count how many gaps there are from 0 to 1.',
      q5b_den:  'Denominator: count each gap from 0 all the way to 1.',
      q5c_den:  'Denominator: count the number of gaps between 0 and 1.',
      q5d_den:  'Denominator: count every gaps from 0 up to 1.',
      q5e_den:  'Denominator: count all the gaps from 0 to 1.',

      q5a_num: 'Numerator: count the gaps from 0 up to the box.',
      q5b_num: 'Numerator: count how many gaps from 0 until the box.',
      q5c_num: 'Numerator: start at 0 and count the gaps up to the box.',
      q5d_num: 'Numerator: count the gaps from 0 to where the box is.',
      q5e_num: 'Numerator: count the gaps from 0 until you reach the box.'
    };

    const hintBox = document.getElementById('hints');
    const hintContainer = document.getElementById('hints-container');
    const active = new Set();

    function showHints() {
      if (active.size) {
        hintBox.innerHTML = '<strong>Hint:</strong><ul>' +
          [...active].map(h => `<li>${h}</li>`).join('') +
          '</ul>';
        hintContainer.style.display = 'flex';
      } else {
        hintContainer.style.display = 'none';
      }
    }

    function checkField(e) {
      const id = e.target.id;
      const v  = e.target.value.trim();
      if (!v) {
        e.target.classList.remove('correct','incorrect');
        active.delete(hintsMap[id]);
      } else if (correct[id].includes(v)) {
        e.target.classList.add('correct');
        e.target.classList.remove('incorrect');
        active.delete(hintsMap[id]);
      } else {
        e.target.classList.add('incorrect');
        e.target.classList.remove('correct');
        active.add(hintsMap[id]);
      }
      showHints();
    }

    // attach listeners
    document.querySelectorAll('input.answer')
      .forEach(input => input.addEventListener('input', checkField));

    // speak button
    document.getElementById('speakBtn').addEventListener('click', () => {
      const text = hintBox.textContent.trim();
      if (!text) return;
      const utter = new SpeechSynthesisUtterance(text);
      speechSynthesis.speak(utter);
    });
  </script>
</body>
</html>
